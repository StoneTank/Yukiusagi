<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Yukiusagi Timeline HTML</title>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    <script>
      var YUKIUSAGI = {};

      // ひとつのステータスを追加します
      function addStatus(json)
      {
        var status = JSON.parse(json);
        $("ul").prepend(getElement(status));
      }

      // 複数のステータスを追加します
      function addStatusRange(json)
      {
        var array = JSON.parse(json);
        var html = "";

        $.each(array, function(index, value) {
          html = getElement(value).html() + html;
        });

        $("ul").prepend(html);
      }

      // 指定された status オブジェクトからタイムライン表示用 Element を生成して返します
      function getElement(status)
      {
        var element = document.createElement("li");
        
        // ステータス ID
        element.setAttribute("id", status.id);

        if (status.retweeted_status != null) {
          // リツイート
          element.setAttribute("class", "rt");
        }
        else if (YUKIUSAGI.Regex.ReplyText.test(status.text)) {
          // リプライ
          element.setAttribute("class", "reply");
        }
        else if (YUKIUSAGI.Regex.OwnScreenName.test(status.user.screen_name)) {
          element.setAttribute("class", "own");
        }

        // style 属性
        element.setAttribute("style", "background-image: url('" + userProfileImageUrl + "');");

        // ユーザ名表示欄
        var userText;
        if (isRt) {
          // @screen_name (名前) - Retweeted by @screen_name
          userText = "\<a href=\"yukiusagi:user?" + userScreenName + "\"\>" + userName + " @" + userScreenName + "\</a\> (Retweeted by \<a href=\"yukiusagi:user?" + rtUserScreenName + "\"\>@" + rtUserScreenName + "\</a\>)";
        }
        else {
          // @screen_name (名前)
          userText = "\<a href=\"yukiusagi:user?" + userScreenName + "\"\>" + userName + " @" + userScreenName + "\</a\>";
        }

        // ボタン用HTML
        var destroyButtonHtml = "\<a href=\"yukiusagi:destroy?" + id + "\"\>\<img class=\"DestroyButton\" src=\"img/Destroy.png\"\>\</a\>";
        var favRtButtonHtml = "\<a href=\"yukiusagi:favRt?" + id + "\"\>\<img class=\"FavRtButton\" src=\"img/FavRt.png\" onclick=\"$('#" + id + " .FavButton,#" + id + " .RtButton').attr('src', 'img/Loading.gif');\"\>\</a\>";
        var replyButtonHtml = "\<a href=\"yukiusagi:reply?" + id + "\"\>\<img class=\"ReplyButton\" src=\"img/Reply.png\"\>\</a\>";
        var stealButtonHtml = "\<a href=\"yukiusagi:steal?" + id + "\"\>\<img class=\"StealButton\" src=\"img/Steal.png\" onclick=\"$('#" + id + " .FavButton').attr('src', 'img/Loading.gif');\"\>\</a\>";

        var favButtonHtml;
        if (isFavorited) {
          favButtonHtml = "\<a href=\"yukiusagi:favorite?" + id + "\"\>\<img class=\"FavButton\" src=\"img/FavActive.png\" onclick=\"this.src='img/Loading.gif';\"\>\</a\>";
        }
        else {
          favButtonHtml = "\<a href=\"yukiusagi:favorite?" + id + "\"\>\<img class=\"FavButton\" src=\"img/Fav.png\" onclick=\"this.src='img/Loading.gif';\"\>\</a\>";
        }

        var rtButtonHtml;
        if (isRetweeted) {
          rtButtonHtml = "\<a href=\"yukiusagi:retweet?" + id + "\"\>\<img class=\"RtButton\" src=\"img/RtActive.png\" onclick=\"this.src='img/Loading.gif';\"\>\</a\>";
        }
        else {
          rtButtonHtml = "\<a href=\"yukiusagi:retweet?" + id + "\"\>\<img class=\"RtButton\" src=\"img/Rt.png\" onclick=\"this.src='img/Loading.gif';\"\>\</a\>";
        }

        // innerHTML
        if (isOwnTweet) {
          element.innerHTML = "\<div class=\"header\"\>\<div\>" + userText + "\</div\>\<div\>" +
            destroyButtonHtml + favButtonHtml + replyButtonHtml +
            "\</div\>\</div\>\<div class=\"detail\"\>" + detailHTML +
            "\</div\>\<div class=\"footer\"\>" + footerHTML + "\</div\>";
        }
        else if (isProtectedTweet) {            
          element.innerHTML = "\<div class=\"header\"\>\<div\>" + userText + "\</div\>\<div\>" +
            stealButtonHtml + favButtonHtml + replyButtonHtml +
            "\</div\>\</div\>\<div class=\"detail\"\>" + detailHTML +
            "\</div\>\<div class=\"footer\"\>" + footerHTML + "\</div\>";
        }
        else {            
          element.innerHTML = "\<div class=\"header\"\>\<div\>" + userText + "\</div\>\<div\>" +
            stealButtonHtml + favRtButtonHtml + rtButtonHtml + favButtonHtml + replyButtonHtml +
            "\</div\>\</div\>\<div class=\"detail\"\>" + detailHTML +
            "\</div\>\<div class=\"footer\"\>" + footerHTML + "\</div\>";
        }
      }
    </script>
    <style>
      ul {
        font-family: "Segoe UI Emoji", "Segoe UI", "Meiryo UI", "メイリオ", Meiryo, "ＭＳ Ｐゴシック", sans-serif;
        font-size: 10pt;
        margin: 0;
        padding: 0;
      }
      li {
        background-position: 4px center;
        background-repeat: no-repeat;
        border-bottom: 1px solid #f5f5f5;
        border-left: 2px solid #ffffff;
        list-style: none;
        margin: 0;
        padding: 4px 0 4px 60px;
      }
      li:hover {
        background-color: #f5f5f5;
      }

      /* own tweet */
      .own { border-left: 2px solid #0099ff; }
      /* retweet */
      .rt { border-left: 2px solid #66ff99; }
      /* reply to me */
      .reply { border-left: 2px solid #ff99cc; }

      /* name, screen name, and buttons */
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;

        cursor: default;
        margin: 0;
        padding: 0;
      }
      .header a {
        color: #000000;
        font-weight: bold;
        text-decoration: none;
      }
      .header img {
        height: 22px;
      }

      .detail img, .detail video {
        margin: 10px 4px 4px 0;
        border: 1px solid #f5f5f5;
        max-width: 240px;
      }
      .detail img {
        max-height: 180px;
      }
      .detail video {
        max-height: 360px;
      }

      /* date, time, via */
      .footer {
        color: #708090;
        font-size: 80%;
        margin: 4px 0 0 0;
        padding: 0;
      }
      .footer a {
        color: #708090;
        text-decoration: none;
      }
    </style>
  </head>
  <body>
    <ul>
      <li id="862621883312652289" class="own" style="background-image: url('https://pbs.twimg.com/profile_images/786792899862159361/KL_xsBs2_normal.png');">
        <div class="header">
          <div>
            <a href="yukiusagi:user?taishishi_1">鯛獅子 @taishishi_1</a> (Retweeted by <a href="yukiusagi:user?taishishi_1">@taishishi_1</a>)
          </div>
          <div>
            <a href="yukiusagi:steal?862621883312652289"><img onclick="$('#862621883312652289 .FavButton').attr('src', 'Resources/Loading.gif');" src="Resources/Steal.png"></a><a href="yukiusagi:favRt?862621883312652289"><img onclick="$('#862621883312652289 .FavButton,#862621883312652289 .RtButton').attr('src', 'Resources/Loading.gif');" src="Resources/FavRt.png"></a><a href="yukiusagi:retweet?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Rt.png"></a><a href="yukiusagi:favorite?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Fav.png"></a><a href="yukiusagi:reply?862621883312652289"><img src="Resources/Reply.png"></a>
          </div>
        </div>
        <div class="detail">
          おなかいたい <a href="https://t.co/rlX9MgtXms">pic.twitter.com/rlX9MgtXms</a><br><a href="https://pbs.twimg.com/media/C_il_wqU0AAOnFv.jpg"><img src="https://pbs.twimg.com/media/C_il_wqU0AAOnFv.jpg:small"></a><a href="https://pbs.twimg.com/media/C_imE_eUwAAhj_v.jpg"><img src="https://pbs.twimg.com/media/C_imE_eUwAAhj_v.jpg:small"></a><a href="https://pbs.twimg.com/media/C_imIlPVYAIZ24x.jpg"><img src="https://pbs.twimg.com/media/C_imIlPVYAIZ24x.jpg:small"></a><a href="https://pbs.twimg.com/media/C_imLy3V0AERjdf.jpg"><img src="https://pbs.twimg.com/media/C_imLy3V0AERjdf.jpg:small"></a>
        </div>
        <div class="footer">
          2017/05/11 19:56:23 via <a href="http://www.stonetank.com/yukiusagi/" rel="nofollow">ゆきうさぎ</a>
        </div>
      </li>

      <li id="862621883312652289" class="rt" style="background-image: url('https://pbs.twimg.com/profile_images/786792899862159361/KL_xsBs2_normal.png');">
        <div class="header">
          <div>
            <a href="yukiusagi:user?taishishi_1">鯛獅子 @taishishi_1</a> (Retweeted by <a href="yukiusagi:user?taishishi_1">@taishishi_1</a>)
          </div>
          <div>
            <a href="yukiusagi:steal?862621883312652289"><img onclick="$('#862621883312652289 .FavButton').attr('src', 'Resources/Loading.gif');" src="Resources/Steal.png"></a><a href="yukiusagi:favRt?862621883312652289"><img onclick="$('#862621883312652289 .FavButton,#862621883312652289 .RtButton').attr('src', 'Resources/Loading.gif');" src="Resources/FavRt.png"></a><a href="yukiusagi:retweet?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Rt.png"></a><a href="yukiusagi:favorite?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Fav.png"></a><a href="yukiusagi:reply?862621883312652289"><img src="Resources/Reply.png"></a>
          </div>
        </div>
        <div class="detail">
          おなかいたい
          </div>
        <div class="footer">
          2017/05/11 19:56:23 via <a href="http://www.stonetank.com/yukiusagi/" rel="nofollow">ゆきうさぎ</a>
        </div>
      </li>
      
      <li id="862621883312652289" class="" style="background-image: url('https://pbs.twimg.com/profile_images/786792899862159361/KL_xsBs2_normal.png');">
        <div class="header">
          <div>
            <a href="yukiusagi:user?taishishi_1">鯛獅子 @taishishi_1</a> (Retweeted by <a href="yukiusagi:user?taishishi_1">@taishishi_1</a>)
          </div>
          <div>
            <a href="yukiusagi:steal?862621883312652289"><img onclick="$('#862621883312652289 .FavButton').attr('src', 'Resources/Loading.gif');" src="Resources/Steal.png"></a><a href="yukiusagi:favRt?862621883312652289"><img onclick="$('#862621883312652289 .FavButton,#862621883312652289 .RtButton').attr('src', 'Resources/Loading.gif');" src="Resources/FavRt.png"></a><a href="yukiusagi:retweet?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Rt.png"></a><a href="yukiusagi:favorite?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Fav.png"></a><a href="yukiusagi:reply?862621883312652289"><img src="Resources/Reply.png"></a>
          </div>
        </div>
        <div class="detail">
          <a href="yukiusagi:user?taishishi_1">@taishishi_1</a> おなかいたい
        </div>
        <div class="footer">
          2017/05/11 19:56:23 via <a href="http://www.stonetank.com/yukiusagi/" rel="nofollow">ゆきうさぎ</a>
        </div>
      </li>
      <li id="862621883312652289" class="" style="background-image: url('https://pbs.twimg.com/profile_images/786792899862159361/KL_xsBs2_normal.png');">
        <div class="header">
          <div>
            <a href="yukiusagi:user?taishishi_1">鯛獅子 @taishishi_1</a> (Retweeted by <a href="yukiusagi:user?taishishi_1">@taishishi_1</a>)
          </div>
          <div>
            <a href="yukiusagi:steal?862621883312652289"><img onclick="$('#862621883312652289 .FavButton').attr('src', 'Resources/Loading.gif');" src="Resources/Steal.png"></a><a href="yukiusagi:favRt?862621883312652289"><img onclick="$('#862621883312652289 .FavButton,#862621883312652289 .RtButton').attr('src', 'Resources/Loading.gif');" src="Resources/FavRt.png"></a><a href="yukiusagi:retweet?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Rt.png"></a><a href="yukiusagi:favorite?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Fav.png"></a><a href="yukiusagi:reply?862621883312652289"><img src="Resources/Reply.png"></a>
          </div>
        </div>
        <div class="detail">
          <a href="yukiusagi:user?taishishi_1">@taishishi_1</a> おなかいたい
        </div>
        <div class="footer">
          2017/05/11 19:56:23 via <a href="http://www.stonetank.com/yukiusagi/" rel="nofollow">ゆきうさぎ</a>
        </div>
      </li>
      <li id="862621883312652289" class="" style="background-image: url('https://pbs.twimg.com/profile_images/786792899862159361/KL_xsBs2_normal.png');">
        <div class="header">
          <div>
            <a href="yukiusagi:user?taishishi_1">鯛獅子 @taishishi_1</a> (Retweeted by <a href="yukiusagi:user?taishishi_1">@taishishi_1</a>)
          </div>
          <div>
            <a href="yukiusagi:steal?862621883312652289"><img onclick="$('#862621883312652289 .FavButton').attr('src', 'Resources/Loading.gif');" src="Resources/Steal.png"></a><a href="yukiusagi:favRt?862621883312652289"><img onclick="$('#862621883312652289 .FavButton,#862621883312652289 .RtButton').attr('src', 'Resources/Loading.gif');" src="Resources/FavRt.png"></a><a href="yukiusagi:retweet?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Rt.png"></a><a href="yukiusagi:favorite?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Fav.png"></a><a href="yukiusagi:reply?862621883312652289"><img src="Resources/Reply.png"></a>
          </div>
        </div>
        <div class="detail">
          <a href="yukiusagi:user?taishishi_1">@taishishi_1</a> おなかいたい
        </div>
        <div class="footer">
          2017/05/11 19:56:23 via <a href="http://www.stonetank.com/yukiusagi/" rel="nofollow">ゆきうさぎ</a>
        </div>
      </li>
      <li id="862621883312652289" class="reply" style="background-image: url('https://pbs.twimg.com/profile_images/786792899862159361/KL_xsBs2_normal.png');">
        <div class="header">
          <div>
            <a href="yukiusagi:user?taishishi_1">鯛獅子 @taishishi_1</a> (Retweeted by <a href="yukiusagi:user?taishishi_1">@taishishi_1</a>)
          </div>
          <div>
            <a href="yukiusagi:steal?862621883312652289"><img onclick="$('#862621883312652289 .FavButton').attr('src', 'Resources/Loading.gif');" src="Resources/Steal.png"></a><a href="yukiusagi:favRt?862621883312652289"><img onclick="$('#862621883312652289 .FavButton,#862621883312652289 .RtButton').attr('src', 'Resources/Loading.gif');" src="Resources/FavRt.png"></a><a href="yukiusagi:retweet?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Rt.png"></a><a href="yukiusagi:favorite?862621883312652289"><img onclick="this.src='Resources/Loading.gif';" src="Resources/Fav.png"></a><a href="yukiusagi:reply?862621883312652289"><img src="Resources/Reply.png"></a>
          </div>
        </div>
        <div class="detail">
          <a href="yukiusagi:user?taishishi_1">@taishishi_1</a> おなかいたい
        </div>
        <div class="footer">
          2017/05/11 19:56:23 via <a href="http://www.stonetank.com/yukiusagi/" rel="nofollow">ゆきうさぎ</a>
        </div>
      </li>
    </ul>
  </body>
</html>